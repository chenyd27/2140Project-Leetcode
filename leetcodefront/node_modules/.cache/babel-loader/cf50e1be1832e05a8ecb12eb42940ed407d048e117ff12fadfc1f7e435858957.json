{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Login from '../components/Login.vue'; // 引入login组件\nimport Home from '../components/Home.vue';\nimport Welcome from '../components/Welcome.vue';\nimport UserList from '../components/admin/UserList.vue';\nVue.use(VueRouter);\nconst routes = [{\n  path: \"/\",\n  redirect: \"/login\" // 首页重定向\n}, {\n  path: \"/login\",\n  // 页面路由\n  component: Login // 通过 component 来引入真正的页面\n}, {\n  path: \"/home\",\n  component: Home,\n  redirect: \"/welcome\",\n  children: [\n  // 自组件\n  {\n    path: \"/welcome\",\n    component: Welcome\n  }, {\n    path: \"/user\",\n    component: UserList\n  }]\n}, {\n  path: \"/rights\",\n  redirect: \"/welcome\"\n}];\nconst router = new VueRouter({\n  routes\n});\n\n// 未跳转时使用\nconst originalPush = VueRouter.prototype.push;\nVueRouter.prototype.push = function push(location, onResolve, onReject) {\n  if (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject);\n  return originalPush.call(this, location).catch(err => err);\n};\n// 挂载路由导航守卫\nrouter.beforeEach((to, from, next) => {\n  // to 将要访问\n  // from 从哪访问\n  // next 接着干的事,next(url) 重定向到url，空则继续访问 to 的路径\n  if (to.path == '/login') return next();\n  // 获取 user\n  const userFlag = window.sessionStorage.getItem(\"user\");\n  // 判断是否为空\n  if (!userFlag) return next('/login'); // 无值返回登陆页\n  next(); // 符合要求\n});\n\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Login","Home","Welcome","UserList","use","routes","path","redirect","component","children","router","originalPush","prototype","push","location","onResolve","onReject","call","catch","err","beforeEach","to","from","next","userFlag","window","sessionStorage","getItem"],"sources":["/Users/chenyida/leetcodeSearch/leetcodefront/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Login from '../components/Login.vue' // 引入login组件\nimport Home from '../components/Home.vue'\nimport Welcome from '../components/Welcome.vue'\nimport UserList from '../components/admin/UserList.vue'\n\nVue.use(VueRouter)\n\nconst routes = [{\n    path: \"/\",\n    redirect: \"/login\", // 首页重定向\n}, {\n    path: \"/login\", // 页面路由\n    component: Login, // 通过 component 来引入真正的页面\n}, {\n    path: \"/home\",\n    component: Home,\n    redirect: \"/welcome\",\n    children: [ // 自组件\n        { path: \"/welcome\", component: Welcome, },\n        { path: \"/user\", component: UserList, }\n    ]\n}, {\n    path: \"/rights\",\n    redirect: \"/welcome\",\n}]\n\nconst router = new VueRouter({\n    routes\n})\n\n// 未跳转时使用\nconst originalPush = VueRouter.prototype.push;\nVueRouter.prototype.push = function push(location, onResolve, onReject) {\n        if (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject);\n        return originalPush.call(this, location).catch(err => err);\n    }\n    // 挂载路由导航守卫\nrouter.beforeEach((to, from, next) => {\n    // to 将要访问\n    // from 从哪访问\n    // next 接着干的事,next(url) 重定向到url，空则继续访问 to 的路径\n    if (to.path == '/login') return next();\n    // 获取 user\n    const userFlag = window.sessionStorage.getItem(\"user\");\n    // 判断是否为空\n    if (!userFlag) return next('/login'); // 无值返回登陆页\n    next(); // 符合要求\n})\n\nexport default router"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,yBAAyB,EAAC;AAC5C,OAAOC,IAAI,MAAM,wBAAwB;AACzC,OAAOC,OAAO,MAAM,2BAA2B;AAC/C,OAAOC,QAAQ,MAAM,kCAAkC;AAEvDL,GAAG,CAACM,GAAG,CAACL,SAAS,CAAC;AAElB,MAAMM,MAAM,GAAG,CAAC;EACZC,IAAI,EAAE,GAAG;EACTC,QAAQ,EAAE,QAAQ,CAAE;AACxB,CAAC,EAAE;EACCD,IAAI,EAAE,QAAQ;EAAE;EAChBE,SAAS,EAAER,KAAK,CAAE;AACtB,CAAC,EAAE;EACCM,IAAI,EAAE,OAAO;EACbE,SAAS,EAAEP,IAAI;EACfM,QAAQ,EAAE,UAAU;EACpBE,QAAQ,EAAE;EAAE;EACR;IAAEH,IAAI,EAAE,UAAU;IAAEE,SAAS,EAAEN;EAAS,CAAC,EACzC;IAAEI,IAAI,EAAE,OAAO;IAAEE,SAAS,EAAEL;EAAU,CAAC;AAE/C,CAAC,EAAE;EACCG,IAAI,EAAE,SAAS;EACfC,QAAQ,EAAE;AACd,CAAC,CAAC;AAEF,MAAMG,MAAM,GAAG,IAAIX,SAAS,CAAC;EACzBM;AACJ,CAAC,CAAC;;AAEF;AACA,MAAMM,YAAY,GAAGZ,SAAS,CAACa,SAAS,CAACC,IAAI;AAC7Cd,SAAS,CAACa,SAAS,CAACC,IAAI,GAAG,SAASA,IAAI,CAACC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,EAAE;EAChE,IAAID,SAAS,IAAIC,QAAQ,EAAE,OAAOL,YAAY,CAACM,IAAI,CAAC,IAAI,EAAEH,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,CAAC;EACxF,OAAOL,YAAY,CAACM,IAAI,CAAC,IAAI,EAAEH,QAAQ,CAAC,CAACI,KAAK,CAACC,GAAG,IAAIA,GAAG,CAAC;AAC9D,CAAC;AACD;AACJT,MAAM,CAACU,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC;EACA;EACA;EACA,IAAIF,EAAE,CAACf,IAAI,IAAI,QAAQ,EAAE,OAAOiB,IAAI,EAAE;EACtC;EACA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;EACtD;EACA,IAAI,CAACH,QAAQ,EAAE,OAAOD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;EACtCA,IAAI,EAAE,CAAC,CAAC;AACZ,CAAC,CAAC;;AAEF,eAAeb,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}